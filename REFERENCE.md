# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`netplan`](#netplan): Install and configure netplan

### Defined types

* [`netplan::config`](#netplanconfig): Generate netplan YAML files

## Classes

### <a name="netplan"></a>`netplan`

Manages the installation of netplan and controls global options like whether to purge unmanaged files.

#### Examples

##### Basic usage

```puppet
include netplan
```

##### Purge un-managed files

```puppet
class { netplan:
  purge_configs => true,
}
```

#### Parameters

The following parameters are available in the `netplan` class:

* [`package_dependencies`](#package_dependencies)
* [`manage_dependencies`](#manage_dependencies)
* [`apply`](#apply)
* [`purge_configs`](#purge_configs)
* [`configs`](#configs)

##### <a name="package_dependencies"></a>`package_dependencies`

Data type: `Array`

List of packages to install

Default value: `['netplan.io']`

##### <a name="manage_dependencies"></a>`manage_dependencies`

Data type: `Boolean`

Whether to install the list of package dependencies or not

Default value: ``true``

##### <a name="apply"></a>`apply`

Data type: `Boolean`

Whether to apply the netplan configuration during the agent run or not

Default value: ``true``

##### <a name="purge_configs"></a>`purge_configs`

Data type: `Boolean`

Whether to purge un-managed netplan YAML files under /etc/netplan

Default value: ``false``

##### <a name="configs"></a>`configs`

Data type: `Optional[Hash]`

An optional hash of netplan configurations supplied via hiera

Default value: ``undef``

## Defined types

### <a name="netplanconfig"></a>`netplan::config`

Create netplan YAML files from a Hash of data.

#### Examples

##### Basic config

```puppet
netplan::config { 'example-config':
  settings => {
    network => {
      version => 2,
      renderer => networkd,
      ethernets => {
        eth0 => {
          dhcp4 => true,
        },
      },
    },
  },
}
```

#### Parameters

The following parameters are available in the `netplan::config` defined type:

* [`ensure`](#ensure)
* [`file_name`](#file_name)
* [`priority`](#priority)
* [`file`](#file)
* [`file_mode`](#file_mode)
* [`settings`](#settings)

##### <a name="ensure"></a>`ensure`

Data type: `Enum['present','absent']`

Ensure presence/absence of the resource

Default value: `'present'`

##### <a name="file_name"></a>`file_name`

Data type: `String`

The filename to use for the generated YAML file

Default value: `$title`

##### <a name="priority"></a>`priority`

Data type: `Integer`

The number prefixed to the generated YAML file

Default value: `90`

##### <a name="file"></a>`file`

Data type: `Stdlib::Absolutepath`

The absolute path of the genrated YAML file

Default value: `"/etc/netplan/${priority}-${file_name}.yaml"`

##### <a name="file_mode"></a>`file_mode`

Data type: `String`

The file permissions for the generated YAML file

Default value: `'0600'`

##### <a name="settings"></a>`settings`

Data type: `Hash`

A hash of netplan settings to be included in the generated YAML file

Default value: `{}`

